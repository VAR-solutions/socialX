(function(t){function e(e){for(var s,n,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/socialX/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02b1":function(t,e,a){"use strict";var s=a("7f46"),o=a.n(s);o.a},1:function(t,e){},"43fc":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{dark:""}},[a("Navbar",{key:t.username}),a("v-main",[a("router-view")],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.auth?s("v-navigation-drawer",{attrs:{app:"",clipped:"",right:"",dark:""},model:{value:t.drawerRight,callback:function(e){t.drawerRight=e},expression:"drawerRight"}},[t.auth?s("v-list",{attrs:{dark:"",dense:""}},[s("v-list-group",{attrs:{color:"dark","prepend-icon":"mdi-account-multiple",value:"true"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-title",{attrs:{dark:""}},[t._v("Following")])]},proxy:!0}],null,!1,536010662)},[0==t.friends.length?s("v-list-item",[s("v-list-item-content",[s("v-list-item-title",[t._v("You have not followed anyone")])],1)],1):t._e(),t._l(t.friends,(function(e,a){return s("v-list-item",{key:a,attrs:{to:{name:"profile",params:{username:e.username}}}},[s("v-list-item-avatar",[s("v-img",{attrs:{src:e.dp}})],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.name))])],1),s("v-list-item-action",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"green"}},[t._v("mdi-circle-small")])],1)],1)],1)}))],2)],1):t._e()],1):t._e(),s("v-app-bar",{attrs:{app:"","clipped-right":"",color:"rgb(40,40,40)",text:"",dark:""}},[t.auth?s("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}):t._e(),s("v-toolbar-title",[s("router-link",{attrs:{to:{name:"dashboard"}}},[s("v-img",{attrs:{tile:!0,height:"40",width:"80",src:a("c4ed")}})],1)],1),s("v-spacer"),s("v-toolbar-items",[t.auth?t._e():s("v-btn",{attrs:{exact:"",text:"",depressed:"",to:"/signup"}},[t._v("SignUp")]),t.auth?t._e():s("v-btn",{attrs:{exact:"",text:"",depressed:"",to:"/login"}},[t._v("Login")]),t.auth?s("v-btn",{attrs:{exact:"",text:"",depressed:"",to:"/messages"}},[t._v("Chat")]):t._e(),t.auth?s("v-btn",{attrs:{exact:"",text:"",depressed:""},on:{click:t.logout}},[t._v("Logout")]):t._e()],1),t.winsize&&t.auth?s("v-icon",{on:{click:function(e){e.stopPropagation(),t.drawerRight=!t.drawerRight}}},[t._v("mdi-account-multiple")]):t._e()],1),t.auth?s("v-navigation-drawer",{attrs:{dark:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",{attrs:{dark:"",dense:""}},[s("v-list-item",{attrs:{to:{name:"profile",params:{username:t.user.username}}}},[s("v-avatar",{staticClass:"mx-auto",attrs:{size:"150"}},[s("v-img",{attrs:{src:t.dp,width:"150"}})],1)],1),s("v-list-item",[s("div",{staticClass:"mx-auto"},[t._v(t._s(t.user.name))])]),s("v-list-item",[s("div",{staticClass:"mx-auto"},[t._v(t._s(t.user.username))])]),s("v-list-item",[s("div",{staticClass:"mx-auto"},[s("v-btn",{staticClass:"ma-2",attrs:{exact:"",router:"",outlined:"",color:"white"},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Update Profile")])],1)]),s("v-list-item"),s("v-list-group",{attrs:{color:"dark","prepend-icon":"mdi-apple-finder",value:"true"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-title",{attrs:{dark:""}},[t._v("Discover Friends")])]},proxy:!0}],null,!1,4252078757)},[0==t.sugges.length?s("v-list-item",[s("v-list-item-content",[s("v-list-item-title",[t._v("Nothing to Suggest")])],1)],1):t._e(),t._l(t.sugges,(function(e,a){return s("v-list-item",{key:a,attrs:{to:{name:"profile",params:{username:e.username}}}},[s("v-list-item-avatar",[s("v-img",{attrs:{src:e.dp}})],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.name))])],1),s("v-list-item-action",[s("v-list-item-icon",[s("v-icon",[t._v("mdi-account-plus")])],1)],1)],1)}))],2)],1)],1):t._e(),s("v-navigation-drawer",{attrs:{fixed:"",temporary:""},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}}),s("v-navigation-drawer",{attrs:{fixed:"",right:"",temporary:""},model:{value:t.right,callback:function(e){t.right=e},expression:"right"}}),s("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{color:"primary",dark:""}},a),[t._v("Create Post")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Update DP")])]),s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("label",[t._v(" File Preview "),s("input",{ref:"file",attrs:{type:"file",id:"file",accept:"image/*"},on:{change:function(e){return t.handleFileUpload()}}})])]),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",[s("img",{directives:[{name:"show",rawName:"v-show",value:t.showPreview,expression:"showPreview"}],attrs:{src:t.imagePreview,height:"150"}})])],1),s("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[s("v-flex",[s("v-btn",{attrs:{color:"primary"},on:{click:t.updateDp}},[t._v("Change DP")])],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Location"},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}}),s("v-text-field",{attrs:{label:"Mobile"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error"},on:{click:function(e){t.dialog=!1}}},[t._v("Discard")]),s("v-btn",{attrs:{color:"primary"},on:{click:t.updateProfile}},[t._v("Update")])],1)],1)],1)],1)},i=[],l=(a("4160"),a("fb6a"),a("ace4"),a("b0c0"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("159b"),a("bc3a")),c=a.n(l),u=a("4328"),d=a.n(u),m={data:function(){return{drawer:null,location:"",file:null,dialog1:!0,dp:"",showPreview:!0,imagePreview:"",expand:!1,dialog:!1,user:{},sugges:[],friends:[],drawerRight:null,right:!1,left:!1,mobile:"",photo:"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light"}},created:function(){var t=this;this.$session.get("jwt")&&(this.user=this.$session.get("user"),this.user.dp?this.dp="data:image/jpeg;base64,"+this.arrayBufferToBase64(this.user.dp.data.data):this.dp=this.photo,this.location=this.user.location,this.mobile=this.user.mobile,this.imagePreview=this.dp,c.a.get("/users/"+this.user.username+"/suggestions").then((function(e){e.data.data.forEach((function(e){c.a.get("/users/"+e).then((function(e){e.data.data.dp?t.sugges.push({name:e.data.data.name,username:e.data.data.username,dp:"data:image/jpeg;base64,"+t.arrayBufferToBase64(e.data.data.dp.data.data)}):t.sugges.push({name:e.data.data.name,username:e.data.data.username,dp:t.photo})}))}))})),c.a.get("/users/"+this.user.username+"/following").then((function(e){e.data.data.forEach((function(e){c.a.get("/users/"+e).then((function(e){e.data.data.dp?t.friends.push({name:e.data.data.name,username:e.data.data.username,dp:"data:image/jpeg;base64,"+t.arrayBufferToBase64(e.data.data.dp.data.data)}):t.friends.push({name:e.data.data.name,username:e.data.data.username,dp:t.photo})}))}))})))},methods:{updateDp:function(){var t=this,e=new FormData;e.append("dp",this.file),e.append("username",this.user.username),c.a.put("/users/updateDp",e).then((function(e){t.dialog=!1,t.imagePreview="",t.file=null,t.$session.set("user",e.data.data),t.dp="data:image/jpeg;base64,"+t.arrayBufferToBase64(e.data.data.dp.data.data),location.reload()}))},updateProfile:function(){var t=this;c.a.put("/users/update",d.a.stringify({location:this.location,mobile:this.mobile})).then((function(e){t.dialog=!1,location.reload()}))},arrayBufferToBase64:function(t){var e="",a=[].slice.call(new Uint8Array(t));return a.forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)},logout:function(){this.$session.destroy(),this.$store.commit("LOGOUT"),this.$router.push({name:"login"})},imgUrlAlt:function(t){t.target.src="https://firebasestorage.googleapis.com/v0/b/csgo-auction.appspot.com/o/side-03.png?alt=media&token=91ce7293-e061-4a46-8929-d72bb6917499"},handleFileUpload:function(){this.file=this.$refs.file.files[0];var t=new FileReader;t.addEventListener("load",function(){this.showPreview=!0,this.imagePreview=t.result}.bind(this),!1),this.file&&/\.(jpe?g|png|gif)$/i.test(this.file.name)&&t.readAsDataURL(this.file)}},computed:{auth:function(){return this.$store.state.isAuthenticated},winsize:function(){return!(window.innerWidth>1125)}},watch:{group:function(){this.drawer=!1}},updated:function(){this.auth}},p=m,f=a("2877"),v=a("6544"),h=a.n(v),g=a("40dc"),w=a("5bc1"),y=a("8212"),b=a("8336"),x=a("b0af"),_=a("99d9"),k=a("62ad"),C=a("a523"),V=a("169a"),T=a("0e8f"),S=a("132d"),$=a("adda"),P=a("a722"),B=a("8860"),j=a("56b0"),E=a("da13"),L=a("1800"),A=a("8270"),D=a("5d23"),I=a("34c3"),M=a("f774"),O=a("0fd9"),F=a("2fa4"),U=a("8654"),R=a("2a7f"),N=Object(f["a"])(p,n,i,!1,null,null,null),H=N.exports;h()(N,{VAppBar:g["a"],VAppBarNavIcon:w["a"],VAvatar:y["a"],VBtn:b["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VCol:k["a"],VContainer:C["a"],VDialog:V["a"],VFlex:T["a"],VIcon:S["a"],VImg:$["a"],VLayout:P["a"],VList:B["a"],VListGroup:j["a"],VListItem:E["a"],VListItemAction:L["a"],VListItemAvatar:A["a"],VListItemContent:D["a"],VListItemIcon:I["a"],VListItemTitle:D["b"],VNavigationDrawer:M["a"],VRow:O["a"],VSpacer:F["a"],VTextField:U["a"],VToolbarItems:R["a"],VToolbarTitle:R["b"]});var z=a("2f62"),q={name:"App",components:{Navbar:H},data:function(){return{username:-2}},beforeCreate:function(){var t=this;if(this.$session.exists()){c.a.defaults.headers.common["x-access-token"]=this.$session.get("jwt");var e=this.$session.get("user");this.$socket.client.emit("connected",e.username),this.$socket.client.on("connected",(function(t){console.log(t)})),c.a.get("/users/"+e.username).then((function(e){t.$store.commit("SET_USER",e.data.data),t.$session.set("user",e.data.data)}))}},created:function(){var t=this;this.$store.subscribe((function(e,a){"SET_USER"==e.type&&(t.username=a.user.following.length)}))},computed:Object(z["b"])(["user"])},X=q,G=a("7496"),W=a("f6c4"),Y=Object(f["a"])(X,o,r,!1,null,null,null),J=Y.exports;h()(Y,{VApp:G["a"],VMain:W["a"]});a("7db0"),a("a630"),a("d81d"),a("b64b"),a("3ca3");var Z=a("8c4f"),K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("v-parallax",{attrs:{dark:"",height:"500",src:"https://cdn.vuetifyjs.com/images/parallax/material.jpg"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("h1",{staticClass:"display-1 font-weight-thin mb-4"},[t._v("SocialX")]),a("h4",{staticClass:"subheading"},[t._v("New Gen Social Media Platform")])])],1)],1),a("v-card",{attrs:{elevation:"0",dark:"",color:"#303030"}},[a("h4",{staticClass:"headline font-weight-thin my-5"},[t._v("SocialX is a new gen social media platform for the youth by the youth. SocialX facilitate the development of online social networks by connecting a user's profile with those of other individuals. Don't think just dive right into the world of social media with SocialX.")])]),a("v-parallax",{attrs:{dark:"",height:"400",src:"https://images.pexels.com/photos/3183151/pexels-photo-3183151.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("h1",{staticClass:"display-1 font-weight-bold mb-4"},[t._v("Team")]),a("h4",{staticClass:"subheading"},[t._v("Meet Our Awesome Team !")])])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg3:"","my-2":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-avatar",{attrs:{size:"200"}},[a("img",{attrs:{src:"https://avatars0.githubusercontent.com/u/31544686?s=460&v=4"}})])],1),a("p",{staticStyle:{"text-align":"center"}},[t._v("Vishal Gaur")])],1),a("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg3:"","my-2":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-avatar",{attrs:{size:"200"}},[a("img",{attrs:{src:"https://avatars2.githubusercontent.com/u/31547868?s=400&u=86a26b871a72843ef708153488e4b0b16d3a444e&v=4"}})])],1),a("p",{staticStyle:{"text-align":"center"}},[t._v("Ananya Tewari")])],1),a("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg3:"","my-2":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-avatar",{attrs:{size:"200"}},[a("img",{attrs:{src:"https://avatars3.githubusercontent.com/u/42266057?s=400&v=4"}})])],1),a("p",{staticStyle:{"text-align":"center"}},[t._v("Ravi Varshney")])],1),a("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg3:"","my-2":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-avatar",{attrs:{size:"200"}},[a("img",{attrs:{src:"https://avatars2.githubusercontent.com/u/31536581?s=460&v=4"}})])],1),a("p",{staticStyle:{"text-align":"center"}},[t._v("Vasisht Hegde")])],1)],1)],1)},Q=[],tt={name:"home"},et=tt,at=a("8b9c"),st=Object(f["a"])(et,K,Q,!1,null,null,null),ot=st.exports;h()(st,{VAvatar:y["a"],VCard:x["a"],VCol:k["a"],VFlex:T["a"],VLayout:P["a"],VParallax:at["a"],VRow:O["a"]});var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"rgb(40,40,40)",dark:"",text:""}},[a("v-toolbar-title",[t._v("Login")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{rules:[t.rules.required,t.rules.email],color:"white",label:"Email",name:"email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{id:"password",color:"white",rules:[t.rules.required],label:"Password",name:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.loginError?a("span",{staticClass:"lerror"},[t._v("Invalid Email or Password")]):t._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"rgb(40,40,40)",dark:""},on:{click:t.login}},[t._v("Login")])],1)],1)],1)],1)],1)},nt=[],it={name:"login",props:{source:String},data:function(){return{email:"",password:"",loginError:!1,rules:{required:function(t){return!!t||"Required."},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."}}}},methods:{login:function(){var t=this,e={email:this.email,password:this.password};this.$store.dispatch("login",e).then((function(e){t.$session.start(),t.$session.set("jwt",e.data.token),t.$session.set("user",e.data.data),c.a.defaults.headers.common["x-access-token"]=e.data.token,t.$router.push({name:"dashboard"}),location.reload()}),(function(e){t.loginError=!0,console.log(e)}))}}},lt=it,ct=(a("d6db"),a("4bd4")),ut=a("71d9"),dt=Object(f["a"])(lt,rt,nt,!1,null,null,null),mt=dt.exports;h()(dt,{VBtn:b["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["b"],VCol:k["a"],VContainer:C["a"],VForm:ct["a"],VRow:O["a"],VSpacer:F["a"],VTextField:U["a"],VToolbar:ut["a"],VToolbarTitle:R["b"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12",attrs:{dark:""}},[a("v-toolbar",{attrs:{color:"rgb(40,40,40)",dark:"",text:""}},[a("v-toolbar-title",[t._v("Register")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{color:"white",label:"Name",name:"Name",type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{color:"white",label:"Email",name:"email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{color:"white",label:"Usename",name:"Username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{color:"white",id:"password",label:"Password",name:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.signupError?a("span",{staticClass:"serror"},[t._v("Username or Email not available")]):t._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"rgb(40,40,40)",dark:""},on:{click:t.register}},[t._v("Register")])],1)],1)],1)],1)],1)},ft=[],vt={name:"signup",props:{source:String},data:function(){return{email:"",password:"",name:"",username:"",signupError:!1}},methods:{register:function(){var t=this;this.$store.dispatch("register",{name:this.name,username:this.username,email:this.email,password:this.password}).then((function(e){t.$router.push({name:"login"})})).catch((function(e){t.signupError=!0}))}}},ht=vt,gt=(a("e42b"),Object(f["a"])(ht,pt,ft,!1,null,null,null)),wt=gt.exports;h()(gt,{VBtn:b["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["b"],VCol:k["a"],VContainer:C["a"],VForm:ct["a"],VRow:O["a"],VSpacer:F["a"],VTextField:U["a"],VToolbar:ut["a"],VToolbarTitle:R["b"]});var yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","pa-0":""}},[a("v-row",{attrs:{justify:"center"}},[a("h1",{staticClass:"regular font-weight-light mb-3"},[t._v("Have something on your mind ?")]),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mt-1 ml-3",attrs:{color:"primary",dark:""}},s),[t._v("Create Post")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Draft")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("label",[t._v(" Upload a Photo* "),a("input",{ref:"file",attrs:{type:"file",id:"file",accept:"image/*"},on:{change:function(e){return t.handleFileUpload()}}})])]),a("v-col",{attrs:{cols:"12"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.showPreview,expression:"showPreview"}],attrs:{src:t.imagePreview,height:"250"}})]),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Caption"},model:{value:t.caption,callback:function(e){t.caption=e},expression:"caption"}})],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:function(e){t.dialog=!1}}},[t._v("Discard")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.createpost}},[t._v("Post")])],1)],1)],1)],1),t._l(t.posts,(function(t,e){return a("Post",{key:e,attrs:{post:t}})}))],2)},bt=[],xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","px-0":"","pt-0":"","pb-1":""}},[a("v-card",{staticClass:"mx-auto abc open test mt-3 mx-1",attrs:{elevation:"2",light:"","max-width":"550"}},[a("div",{staticClass:"padd"},[a("v-card-title",{staticClass:"pt-0"},[a("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs2:"",sm2:""}},[a("router-link",{attrs:{to:{name:"profile",params:{username:t.username}}}},[a("v-avatar",{attrs:{size:"52","justify-center":""}},[a("v-img",{attrs:{src:t.photo}})],1)],1)],1),a("v-flex",{attrs:{xs10:"",sm10:""}},[a("v-layout",{attrs:{"mt-2":"","mr-1":"",row:"",wrap:""}},[a("v-flex",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{grow:""}},[a("strong",{staticClass:"headline"},[t._v(t._s(t.username))])]),a("v-flex",{staticClass:"text-right",attrs:{xs1:"","align-self-end":"",shrink:""}},[a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{dark:"",icon:""}},s),[t.post.mypost?a("v-icon",{attrs:{color:"black"}},[t._v("mdi-dots-horizontal")]):t._e()],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(e){return t.deletePostModal(t.post)}}},[a("v-list-item-title",[t._v("Delete Post")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.deleteModal,callback:function(e){t.deleteModal=e},expression:"deleteModal"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Delete Post?")]),a("v-card-text",[t._v("Do you want to delete this post permanently? The post won't be recovered.")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.deleteModal=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.deletePost(t.post)}}},[t._v("Delete")])],1)],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("small",{staticClass:"overline"},[t._v(t._s(t._f("moment")(t.post.posted_on,"from")))])])],1)],1)],1)],1)],1)],1),a("v-card-text",{staticClass:"pa-0 subtitle-1 pb-1"},[a("truncate",{attrs:{clamp:"show more",length:90,less:"show less",type:"html",text:t.p}})],1),a("v-dialog",{attrs:{"overlay-opacity":1,width:"1200px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-img",t._g({staticClass:"white--text align-end",attrs:{height:"250px",src:"data:image/jpeg;base64,"+t.post.photo}},s))]}}])},[a("Postmodal",{attrs:{post:t.post}})],1),a("div",{staticClass:"px-0 ma-0 py-1"},[a("p",{staticClass:"font-weight-light ma-0 pa-0"},[t._v(" "+t._s(this.likecount)+" Likes "),a("span",[t._v("·")]),t._v(" "+t._s(this.commentcount)+" Comments ")])]),a("v-divider"),a("v-card-actions",{staticClass:"pa-0"},[a("v-btn",{staticClass:"pa-0",attrs:{slot:"activator",text:"",fab:"",color:"grey darken-1"},slot:"activator"},[a("v-icon",{attrs:{id:this.post.id},on:{click:t.liketoggle}},[t._v("mdi-thumb-up")])],1),a("v-btn",t._g({staticClass:"pa-0 ma-0",attrs:{text:"",disabled:0==t.commentcount,fab:"",color:"grey darken-1"},on:{click:function(e){t.show=!t.show,t.commentsModal=!0}}},t.on),[a("v-icon",[t._v("mdi-comment")])],1)],1),a("v-form",{ref:"form",attrs:{box:"","auto-grow":"","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{staticClass:"ma-1 pb-2",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{solo:"",dense:"","no-resize":"","full-width":"","hide-details":"",label:"Comment",placeholder:"Your Comment Here",rows:"1",required:""},model:{value:t.mycomment,callback:function(e){t.mycomment=e},expression:"mycomment"}},[a("template",{slot:"append-outer"},[a("v-icon",{attrs:{size:"32",color:"rgb(24,103,192)"},on:{click:t.validate}},[t._v("mdi-comment-plus")])],1)],2)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"450px"},model:{value:t.commentsModal,callback:function(e){t.commentsModal=e},expression:"commentsModal"}},[a("v-card",[a("v-card-title",[t._v(" Comments "),a("v-spacer"),a("v-icon",{on:{click:function(e){t.commentsModal=!1}}},[t._v("mdi-close")])],1),a("v-divider"),a("v-card-text",{staticStyle:{height:"300px"}},t._l(this.post.comments,(function(e,s){return a("Comment",{key:s,attrs:{count:t.commentcount,pr:s,comment:e}})})),1)],1)],1)],1)]),a("v-spacer"),a("v-snackbar",{attrs:{top:"",timeout:6e3,vertical:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" You have to login first to like and comment "),a("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},_t=[],kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-md":"","pa-1":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:""}},[a("router-link",{attrs:{to:{name:"profile",params:{username:t.comment.postedBy}}}},[a("v-avatar",[a("v-img",{attrs:{src:t.photo}})],1)],1)],1),a("v-flex",{attrs:{xs10:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-layout",{attrs:{row:"",wrap:""}},[a("strong",[t._v(t._s(t.name))]),a("v-spacer"),a("small",[t._v(t._s(t._f("moment")(t.comment.created,"from")))]),a("v-flex",{attrs:{xs12:""}},[t._l(t.comment.content.split("\n"),(function(e,s){return a("p",{key:s,staticStyle:{"overflow-wrap":"break-word"}},[t._v(t._s(e))])}))],2)],1)],1)],1)],1)],1)],1)},Ct=[],Vt={name:"Comment",props:["comment","pr","count"],data:function(){return{name:"",photo:"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light",username:"",lorem:"Lorem ipsum dolor sit amet, mel at clita quando. Te sit oratio vituperatoribus, nam ad ipsum posidonium mediocritatem, explicari dissentiunt cu mea. Repudiare disputationi vim in, mollis iriure nec cu, alienum argumentum ius ad. Pri eu justo aeque torquatos."}},created:function(){var t=this;c.a.get("/users/"+this.comment.postedBy).then((function(e){t.name=e.data.data.name,e.data.data.dp&&(t.photo="data:image/jpeg;base64,"+t.arrayBufferToBase64(e.data.data.dp.data.data))})),this.username=this.comment.postedby},methods:{arrayBufferToBase64:function(t){var e="",a=[].slice.call(new Uint8Array(t));return a.forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)}}},Tt=Vt,St=(a("ba50"),Object(f["a"])(Tt,kt,Ct,!1,null,null,null)),$t=St.exports;h()(St,{VAvatar:y["a"],VContainer:C["a"],VFlex:T["a"],VImg:$["a"],VLayout:P["a"],VSpacer:F["a"]});var Pt=a("e017"),Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"ma-0 pa-0",attrs:{row:"",wrap:""}},[a("v-flex",{staticStyle:{"max-height":"530px"},attrs:{fill:"",xs12:"",sm12:"",md7:"",lg8:""}},[a("v-img",{attrs:{height:"530px",src:"data:image/jpeg;base64,"+this.post.photo}})],1),a("v-flex",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"530px"},attrs:{xs12:"",sm12:"",md5:"",lg4:"",id:"scroll-target"}},[a("v-card",{attrs:{elevation:"0",color:"#212121"}},[a("v-card-title",[t._v("Comments")]),0==t.commentcount?a("v-card-text",[t._v(" No comments to show ")]):t._e(),a("v-card-text",{staticStyle:{height:"100%"}},t._l(this.post.comments,(function(e,s){return a("Comment",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],key:s,attrs:{count:t.commentcount,pr:s,comment:e}})})),1)],1)],1)],1)},jt=[],Et={name:"Postmodal",props:["post"],components:{Comment:$t},data:function(){return{show:!0,comment:null,mycomment:null,commentcount:0,pr:""}},created:function(){this.commentcount=this.post.comments.length}},Lt=Et,At=(a("609a"),Object(f["a"])(Lt,Bt,jt,!1,null,null,null)),Dt=At.exports;h()(At,{VCard:x["a"],VCardText:_["b"],VCardTitle:_["c"],VFlex:T["a"],VImg:$["a"],VLayout:P["a"]});var It={name:"post",props:["post"],components:{truncate:Pt["a"],Comment:$t,Postmodal:Dt},data:function(){return{show:!1,comment:null,valid:!0,mycomment:null,likecurr:!1,liked:{},likecount:0,commentcount:0,date:null,exp:"",photo:"",username:"",snackbar:!1,p:"",name:"",commentsModal:!1,deleteModal:!1,on:""}},mounted:function(){var t=this;this.post.likes.forEach((function(e){e==t.$store.state.user.username&&(t.likecurr=!0,document.getElementById(t.post.id).classList.add("likedcolor"))}))},created:function(){var t=this;this.username=this.post.username,this.likecount=this.post.likes.length,this.commentcount=this.post.comments.length,this.p=this.post.content,this.photo="https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light",c.a.get("/users/"+this.username).then((function(e){t.name=e.data.data.name,e.data.data.dp&&(t.photo="data:image/jpeg;base64,"+t.arrayBufferToBase64(e.data.data.dp.data.data))}))},methods:{arrayBufferToBase64:function(t){var e="",a=[].slice.call(new Uint8Array(t));return a.forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)},validate:function(){this.mycomment&&(this.post.comments.push({content:this.mycomment,postedBy:this.$store.state.user.username,created:Date.now()}),c.a.post("/posts/"+this.post.id+"/comment",d.a.stringify({post_id:this.post.id,content:this.mycomment,username:this.$store.state.user.username})),this.commentcount=this.post.comments.length,this.mycomment="")},liketoggle:function(){document.getElementById(this.post.id).classList.toggle("likedcolor"),this.likecurr=!this.likecurr,1==this.likecurr?(c.a.post("/posts/"+this.post.id+"/like",d.a.stringify({username:this.$store.state.user.username,post_id:this.post.id})),this.likecount+=1):(c.a.post("/posts/"+this.post.id+"/unlike",d.a.stringify({username:this.$store.state.user.username,post_id:this.post.id})),this.likecount-=1)},deletePostModal:function(t){this.deleteModal=!0},deletePost:function(t){this.deleteModal=!1,c.a.delete("/posts/"+t.id+"/delete").then((function(t){location.reload()}))}}},Mt=It,Ot=(a("02b1"),a("ce7e")),Ft=a("e449"),Ut=a("2db4"),Rt=a("a844"),Nt=Object(f["a"])(Mt,xt,_t,!1,null,null,null),Ht=Nt.exports;h()(Nt,{VAvatar:y["a"],VBtn:b["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VContainer:C["a"],VDialog:V["a"],VDivider:Ot["a"],VFlex:T["a"],VForm:ct["a"],VIcon:S["a"],VImg:$["a"],VLayout:P["a"],VList:B["a"],VListItem:E["a"],VListItemTitle:D["b"],VMenu:Ft["a"],VSnackbar:Ut["a"],VSpacer:F["a"],VTextarea:Rt["a"]});var zt={name:"dashboard",components:{Post:Ht},data:function(){return{posts:[],dialog:!1,rules:[function(t){return!!t||"Image is Required"}],file:null,showPreview:!1,imagePreview:"",caption:""}},methods:{arrayBufferToBase64:function(t){var e="",a=[].slice.call(new Uint8Array(t));return a.forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)},createpost:function(){var t=this,e=new FormData;e.append("photo",this.file),e.append("content",this.caption),e.append("username",this.$store.state.user.username),e.append("time",Date.now()),c.a.post("/posts",e).then((function(e){var a=e.data.data;a.photo=t.arrayBufferToBase64(a.photo.data.data),t.posts.unshift(a),t.dialog=!1,t.caption="",t.file=null,t.showPreview=!1,t.imagePreview="",location.reload()}))},handleFileUpload:function(){this.file=this.$refs.file.files[0];var t=new FileReader;t.addEventListener("load",function(){this.showPreview=!0,this.imagePreview=t.result}.bind(this),!1),this.file&&/\.(jpe?g|png|gif)$/i.test(this.file.name)&&t.readAsDataURL(this.file)}},beforeCreate:function(){this.$session.exists()||this.$router.push({name:"login"})},created:function(){var t=this;c.a.get("/posts").then((function(e){e.data.data.forEach((function(e){e.mypost=t.$store.state.user.username==e.username,e.photo=t.arrayBufferToBase64(e.photo.data.data),t.posts.push(e)}))}))}},qt=zt,Xt=Object(f["a"])(qt,yt,bt,!1,null,null,null),Gt=Xt.exports;h()(Xt,{VBtn:b["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VCol:k["a"],VContainer:C["a"],VDialog:V["a"],VRow:O["a"],VSpacer:F["a"],VTextField:U["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Profile",{key:t.username,attrs:{username:t.username}})},Yt=[],Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","pt-0":"","mt-0":""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md12:"",lg12:"","pt-0":"","mt-0":"",shrink:""}},[a("v-card",{attrs:{width:"100%","mt-1":"",elevation:"0",color:"#303030"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-avatar",{staticClass:"align-center",attrs:{size:"170"}},[a("img",{attrs:{src:t.dp}})])],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[a("v-layout",{attrs:{"align-center":"","justify-start":""}},[t._v(t._s(t.user.username))]),a("v-layout",{attrs:{"align-center":"","justify-start":""}},[t._v(" "+t._s(t.user.name)+" ")]),t.user.email?a("v-layout",{attrs:{"align-center":"","justify-start":""}},[t._v(" "+t._s(t.user.email)+" ")]):t._e(),t.user.mobile?a("v-layout",{attrs:{"align-center":"","justify-start":""}},[t._v(" "+t._s(t.user.mobile)+" ")]):t._e(),t.user.location?a("v-layout",{attrs:{"align-center":"","justify-start":""}},[t._v(t._s(t.user.location))]):t._e(),a("v-layout",{attrs:{"align-center":"","justify-start":""}},[t.notinfollowings?a("v-btn",{on:{click:t.follow}},[t._v("Follow")]):t._e()],1),a("v-layout",{attrs:{"align-center":"","justify-start":""}},[t.infollowings?a("v-btn",{on:{click:t.unfollow}},[t._v("Unfollow")]):t._e()],1)],1)],1)],1)],1),a("v-flex",[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{text:"",disabled:0==t.followersCount}},s),[t._v(t._s(t.followersCount)+" Followers")])]}}]),model:{value:t.followersModal,callback:function(e){t.followersModal=e},expression:"followersModal"}},[a("v-card",[a("v-card-title",[t._v(" Followers "),a("v-spacer"),a("v-icon",{on:{click:function(e){t.followersModal=!1}}},[t._v("mdi-close")])],1),a("v-card-text",t._l(t.followers,(function(e){return a("v-list-item",{key:e.name},[a("v-list-item-avatar",[a("v-img",{attrs:{src:e.dp}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1)})),1),a("v-divider")],1)],1)],1),a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{text:"",disabled:0==t.followingCount}},s),[t._v(t._s(t.followingCount)+" Following")])]}}]),model:{value:t.followingModal,callback:function(e){t.followingModal=e},expression:"followingModal"}},[a("v-card",[a("v-card-title",[t._v(" Following "),a("v-spacer"),a("v-icon",{on:{click:function(e){t.followingModal=!1}}},[t._v("mdi-close")])],1),a("v-card-text",t._l(t.following,(function(e){return a("v-list-item",{key:e.name},[a("v-list-item-avatar",[a("v-img",{attrs:{src:e.dp}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1)})),1)],1)],1)],1)])],1),a("v-flex",{attrs:{xs12:""}},[a("v-container",{attrs:{"grid-list-sm":"","align-content-space-between":""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.posts,(function(e,s){return a("v-flex",{key:s,attrs:{post:e,xs6:"",sm4:"",md4:"",lg4:""}},[a("v-dialog",{attrs:{"overlay-opacity":1,"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(s){var o=s.on;return[a("v-img",t._g({staticClass:"white--text align-end",attrs:{height:"250px",src:"data:image/jpeg;base64,"+e.photo}},o))]}}],null,!0)},[a("Postmodal",{attrs:{post:e}})],1)],1)})),1)],1)],1)],1)],1)},Zt=[],Kt=(a("caad"),a("2532"),{name:"profile",props:["username"],data:function(){return{user:{},posts:[],dp:"",followersModal:!1,followingModal:!1,dialog:!1,followers:[],following:[],notinfollowings:!1,infollowings:!1,followersCount:0,followingCount:0,photo:"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light"}},components:{Post:Ht,Postmodal:Dt},computed:{title:function(){return this.$route.meta.title+(this.$route.params.username?this.$route.params.username:"")}},methods:{arrayBufferToBase64:function(t){var e="",a=[].slice.call(new Uint8Array(t));return a.forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)},follow:function(){var t=this;c.a.post("/users/follow",d.a.stringify({user2:this.username})).then((function(e){t.notinfollowings=!1,t.infollowings=!0,t.followersCount+=1,c.a.get("/users/"+t.$session.get("user").username).then((function(e){t.$session.set("user",e.data.data),t.$store.commit("SET_USER",e.data.data)}))}))},unfollow:function(){var t=this;c.a.post("/users/unfollow",d.a.stringify({user2:this.username})).then((function(e){t.infollowings=!1,t.followersCount-=1,t.notinfollowings=!0,c.a.get("/users/"+t.$session.get("user").username).then((function(e){t.$session.set("user",e.data.data),t.$store.commit("SET_USER",e.data.data)}))}))}},created:function(){var t=this;this.$session.get("user").username!=this.username?this.$session.get("user").following.includes(this.username)?(this.notinfollowings=!1,this.infollowings=!0):(this.notinfollowings=!0,this.infollowings=!1):(this.notinfollowings=!1,this.infollowings=!1),c.a.get("/users/"+this.$route.params.username).then((function(e){t.user=e.data.data,t.user.dp?t.dp="data:image/jpeg;base64,"+t.arrayBufferToBase64(t.user.dp.data.data):t.dp=t.photo})),c.a.get("/posts/"+this.$route.params.username).then((function(e){e.data.data.forEach((function(e){e.photo=t.arrayBufferToBase64(e.photo.data.data),t.posts.push(e)}))})),c.a.get("/users/"+this.$route.params.username+"/followers").then((function(e){e.data.data.forEach((function(e){t.followersCount+=1,c.a.get("/users/"+e).then((function(e){e.data.data.dp?t.followers.push({name:e.data.data.name,username:e.data.data.username,dp:"data:image/jpeg;base64,"+t.arrayBufferToBase64(e.data.data.dp.data.data)}):t.followers.push({name:e.data.data.name,username:e.data.data.username,dp:t.photo})}))}))})),c.a.get("/users/"+this.$route.params.username+"/following").then((function(e){e.data.data.forEach((function(e){t.followingCount+=1,c.a.get("/users/"+e).then((function(e){e.data.data.dp?t.following.push({name:e.data.data.name,username:e.data.data.username,dp:"data:image/jpeg;base64,"+t.arrayBufferToBase64(e.data.data.dp.data.data)}):t.following.push({name:e.data.data.name,username:e.data.data.username,dp:t.photo})}))}))}))}}),Qt=Kt,te=(a("b397"),Object(f["a"])(Qt,Jt,Zt,!1,null,"0a69327c",null)),ee=te.exports;h()(te,{VAvatar:y["a"],VBtn:b["a"],VCard:x["a"],VCardText:_["b"],VCardTitle:_["c"],VContainer:C["a"],VDialog:V["a"],VDivider:Ot["a"],VFlex:T["a"],VIcon:S["a"],VImg:$["a"],VLayout:P["a"],VListItem:E["a"],VListItemAvatar:A["a"],VListItemContent:D["a"],VListItemTitle:D["b"],VSpacer:F["a"]});var ae={name:"profile",components:{Profile:ee},data:function(){return{}},computed:{username:function(){return this.$route.params.username}},updated:function(){this.username}},se=ae,oe=Object(f["a"])(se,Wt,Yt,!1,null,null,null),re=oe.exports;s["a"].use(z["a"]);var ne=new z["a"].Store({state:{user:null,isAuthenticated:!1,username:null},mutations:{SET_USER:function(t,e){t.user=e,t.isAuthenticated=!0},LOGOUT:function(t){t.user=null,t.isAuthenticated=!1}},actions:{login:function(t,e){var a=t.commit;t.state;return new Promise((function(t,s){c.a.post("/users/authenticate",d.a.stringify({email:e.email,password:e.password}),{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){a("SET_USER",e.data.data),t(e)})).catch((function(t){s({error:t,message:"Invalid details"})}))}))},register:function(t,e){t.commit,t.state;return new Promise((function(t,a){c.a.post("/users/register",d.a.stringify({name:e.name,email:e.email,username:e.username,password:e.password})).then((function(e){t(e)})).catch((function(t){a({error:t,message:"Username not available"})}))}))}},modules:{}}),ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:""}},[a("v-list",{attrs:{expand:""}},t._l(t.users,(function(e,s){return a("v-list-item",{key:s},[a("v-list-item-avatar",[a("v-img",{attrs:{src:e.dp}})],1),a("v-list-item-content",{on:{click:function(a){return t.chaton(e)}}},[a("v-list-item-title",[t._v(t._s(e.name))])],1),a("v-list-item-action",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-circle-small")])],1)],1)],1)})),1)],1),t.chat?a("Chat",{key:t.selected._id,attrs:{user:t.selected}}):t._e()],1)],1)},le=[],ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{key:t.t,attrs:{"d-flex":"",xs12:"",sm6:"",md8:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-avatar",[a("v-img",{attrs:{src:t.user.dp}})],1),t._v(" "+t._s(t.user.name)+" ")],1),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"10"}},[a("v-textarea",{attrs:{solo:"",dense:"","no-resize":"","full-width":"","hide-details":"",label:"Message",placeholder:"Your Message Here",rows:"1",required:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{attrs:{fab:"",dark:"",color:"indigo"},on:{click:t.send}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-send")])],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-col",{staticClass:"messages",attrs:{cols:"12"}},t._l(t.messages,(function(t,e){return a("Message",{key:e,attrs:{message:t}})})),1)],1)],1)],1)},ue=[],de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"chat",class:{"chat-u":t.message.author._id==t.user._id,"chat-f":t.message.author._id!=t.user._id}},[t._v(t._s(t.message.body))])])},me=[],pe={name:"Message",props:["message"],data:function(){return{user:{}}},created:function(){this.user=this.$session.get("user")}},fe=pe,ve=(a("f87e"),Object(f["a"])(fe,de,me,!1,null,null,null)),he=ve.exports;h()(ve,{VCol:k["a"]});var ge={name:"chat",components:{Message:he},props:["user"],data:function(){return{t:0,photo:"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light",message:"",username:"",users:[],messages:[]}},methods:{arrayBufferToBase64:function(t){var e="",a=[].slice.call(new Uint8Array(t));return a.forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)},send:function(){var t=this,e={body:this.message,conversationId:this.user.cid,author:{_id:this.$session.get("user")._id}};c.a.post("/chat/"+this.user.cid,d.a.stringify({composedMessage:this.message})).then((function(a){t.$socket.client.emit("new message",[t.user.cid,e]),t.message=""}))}},created:function(){var t=this;c.a.get("/chat/"+this.user.cid).then((function(e){t.$socket.client.emit("enter conversation",t.user.cid),e.data.conversation.forEach((function(e){t.messages.push(e)})),t.$socket.$subscribe("new message",(function(e){t.messages.unshift(e)}))}))}},we=ge,ye=Object(f["a"])(we,ce,ue,!1,null,null,null),be=ye.exports;h()(ye,{VAvatar:y["a"],VBtn:b["a"],VCol:k["a"],VFlex:T["a"],VIcon:S["a"],VImg:$["a"],VLayout:P["a"],VRow:O["a"],VTextarea:Rt["a"]});var xe={name:"messages",components:{Chat:be},data:function(){return{photo:"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light",message:"",chat:!1,dp:"",selected:{},username:"",users:[],messages:[{message:"test 1",timestamp:"time",sendBy:"vashist"},{message:"test 2",timestamp:"time2",sendBy:"ravi"}]}},methods:{arrayBufferToBase64:function(t){var e="",a=[].slice.call(new Uint8Array(t));return a.forEach((function(t){return e+=String.fromCharCode(t)})),window.btoa(e)},send:function(){console.log(this.message),this.messages.push({body:this.message,timestamp:"time",sendBy:"Ravi"})},chaton:function(t){this.chat=!0,this.selected=t}},created:function(){var t=this;c.a.get("/chat").then((function(e){e.data.data.forEach((function(e){var a="";a=t.$session.get("user")._id==e.participants[0]?e.participants[1]:e.participants[0],c.a.get("/users/byid/"+a).then((function(a){var s={};s=a.data.data,a.data.data.dp?s.dp="data:image/jpeg;base64,"+t.arrayBufferToBase64(s.dp.data.data):s.dp=t.photo,s["cid"]=e._id,t.users.push(s)}))}))}))}},_e=xe,ke=Object(f["a"])(_e,ie,le,!1,null,null,null),Ce=ke.exports;h()(ke,{VContainer:C["a"],VFlex:T["a"],VIcon:S["a"],VImg:$["a"],VLayout:P["a"],VList:B["a"],VListItem:E["a"],VListItemAction:L["a"],VListItemAvatar:A["a"],VListItemContent:D["a"],VListItemIcon:I["a"],VListItemTitle:D["b"]}),s["a"].use(Z["a"]);var Ve=[{path:"*",redirect:"/feed"},{path:"/",name:"home",component:ot,beforeEnter:function(t,e,a){ne.state.isAuthenticated?Te.push({name:"dashboard"}):a()},meta:{title:"SocialX - New Generation Social Media Platform"}},{path:"/login",name:"login",component:mt,meta:{title:"LOGIN | SocialX | Connect to the world"}},{path:"/signup",name:"signup",component:wt,meta:{title:"SIGNUP to SocialX to start sharing"}},{path:"/feed",name:"dashboard",component:Gt,meta:{title:"Home | SocialX - New Generation Social Media Platform"}},{path:"/profile/:username",name:"profile",component:re,props:!0,beforeEnter:function(t,e,a){var s=t.name,o=Object.keys(t.params);o.length&&(s="".concat(t.params[o[0]]," on SocialX")),document.title=s,a()}},{path:"/messages/",name:"messages",component:Ce}],Te=new Z["a"]({mode:"history",base:"/socialX/",routes:Ve});Te.beforeEach((function(t,e,a){var s=t.matched.slice().reverse().find((function(t){return t.meta&&t.meta.title})),o=t.matched.slice().reverse().find((function(t){return t.meta&&t.meta.metaTags}));e.matched.slice().reverse().find((function(t){return t.meta&&t.meta.metaTags}));if(s&&(document.title=s.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map((function(t){return t.parentNode.removeChild(t)})),!o)return a();a()}));var Se=Te,$e=a("9483");Object($e["a"])("".concat("/socialX/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Pe=a("f309");s["a"].use(Pe["a"]);var Be=new Pe["a"]({icons:{iconfont:"mdi"},theme:{dark:!0}}),je=a("0628"),Ee=a.n(je),Le=a("2ead"),Ae=a.n(Le),De=a("f87c"),Ie=a("8055"),Me=a.n(Ie),Oe=Me()("http://10.100.148.147:8000");s["a"].use(De["a"],Oe),s["a"].config.productionTip=!1,s["a"].use(Ee.a),s["a"].use(Ae.a),new s["a"]({router:Se,store:ne,vuetify:Be,sockets:{connect:function(){console.log("socket connected")},customEmit:function(t){console.log('this method was fired by the socket server. eg: io.emit("customEmit", data)')}},render:function(t){return t(J)}}).$mount("#app")},"609a":function(t,e,a){"use strict";var s=a("81f2"),o=a.n(s);o.a},"7f46":function(t,e,a){},"81f2":function(t,e,a){},9442:function(t,e,a){},afbc:function(t,e,a){},b397:function(t,e,a){"use strict";var s=a("9442"),o=a.n(s);o.a},ba50:function(t,e,a){"use strict";var s=a("43fc"),o=a.n(s);o.a},c4ed:function(t,e,a){t.exports=a.p+"img/XWritten.b3b1a420.png"},cff3:function(t,e,a){},d6db:function(t,e,a){"use strict";var s=a("e67a"),o=a.n(s);o.a},e42b:function(t,e,a){"use strict";var s=a("cff3"),o=a.n(s);o.a},e67a:function(t,e,a){},f87e:function(t,e,a){"use strict";var s=a("afbc"),o=a.n(s);o.a}});
//# sourceMappingURL=app.534eb344.js.map